<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHRONOSERPENT - Echoes in Time</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas"></canvas>

        <div id="hud">
            <div class="hud-panel">
                <div class="hud-label">Score</div>
                <div class="hud-value score-value" id="scoreDisplay">0</div>
                <div class="multiplier" id="multiplierDisplay">x1</div>
            </div>
            <div class="hud-panel" style="text-align: right;">
                <div class="hud-label">Timelines</div>
                <div class="hud-value timeline-value" id="timelineDisplay">0/5</div>
            </div>
        </div>

        <div id="powerupIndicator"></div>

        <div id="timelineBar">
            <div class="timeline-label">Echo Timelines</div>
            <div class="timeline-slots" id="timelineSlots">
                <div class="timeline-slot"><div class="timeline-fill" style="width: 0%"></div></div>
                <div class="timeline-slot"><div class="timeline-fill" style="width: 0%"></div></div>
                <div class="timeline-slot"><div class="timeline-fill" style="width: 0%"></div></div>
                <div class="timeline-slot"><div class="timeline-fill" style="width: 0%"></div></div>
                <div class="timeline-slot"><div class="timeline-fill" style="width: 0%"></div></div>
            </div>
        </div>

        <div id="centerAlert"></div>

        <div id="menu">
            <div class="menu-content">
                <div class="menu-header">
                    <div class="menu-title">CHRONOSERPENT</div>
                    <div class="menu-tagline">Your past becomes your enemy</div>
                </div>

                <div class="menu-main">
                    <div class="menu-left">
                        <div class="menu-section">
                            <div class="menu-section-title">Game Mode</div>
                            <div class="mode-buttons">
                                <button class="mode-button selected" data-mode="classic">
                                    <span class="mode-icon">üéÆ</span>
                                    <span class="mode-name">Classic</span>
                                </button>
                                <button class="mode-button" data-mode="temporal">
                                    <span class="mode-icon">‚è≥</span>
                                    <span class="mode-name">Temporal</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-section">
                            <div class="menu-section-title">Players</div>
                            <div class="difficulty-buttons">
                                <button class="difficulty-button active" data-players="1">Solo</button>
                                <button class="difficulty-button" data-players="2">2 Player</button>
                                <button class="difficulty-button" data-players="ai">vs AI</button>
                            </div>
                        </div>

                        <div class="menu-section">
                            <div class="menu-section-title">Theme</div>
                            <div class="theme-buttons">
                                <button class="theme-button active" data-theme="neon" style="background: linear-gradient(135deg, #00ffff, #ff00ff);">Neon</button>
                                <button class="theme-button" data-theme="retro" style="background: linear-gradient(135deg, #ff6b35, #f7c59f);">Retro</button>
                                <button class="theme-button" data-theme="ocean" style="background: linear-gradient(135deg, #0077b6, #00b4d8);">Ocean</button>
                                <button class="theme-button" data-theme="void" style="background: linear-gradient(135deg, #2d1b69, #6b2d5b);">Void</button>
                            </div>
                        </div>

                        <div class="menu-section">
                            <div class="menu-section-title">Snake Skin</div>
                            <div class="skin-buttons">
                                <button class="skin-button active" data-skin="cyber">Cyber</button>
                                <button class="skin-button" data-skin="fire">Fire</button>
                                <button class="skin-button" data-skin="ice">Ice</button>
                                <button class="skin-button" data-skin="toxic">Toxic</button>
                            </div>
                        </div>

                        <button class="start-button" id="startButton">
                            <span>START GAME</span>
                        </button>
                        <div class="menu-button-row">
                            <button class="secondary-button" id="helpButton">HOW TO PLAY</button>
                            <button class="secondary-button" id="editorButton">LEVEL EDITOR</button>
                        </div>
                    </div>

                    <div class="menu-right">
                        <div class="controls-panel">
                            <div class="controls-title">Player 1 (WASD)</div>
                            <div class="control-item">
                                <span class="control-key">WASD</span>
                                <span class="control-desc">Move</span>
                            </div>
                            <div class="control-item">
                                <span class="control-key">SPACE</span>
                                <span class="control-desc">Timeline</span>
                            </div>
                            <div class="control-item">
                                <span class="control-key">SHIFT</span>
                                <span class="control-desc">Boost</span>
                            </div>
                        </div>
                        <div class="controls-panel" id="p2Controls">
                            <div class="controls-title">Player 2 (Arrows)</div>
                            <div class="control-item">
                                <span class="control-key">Arrows</span>
                                <span class="control-desc">Move</span>
                            </div>
                            <div class="control-item">
                                <span class="control-key">ENTER</span>
                                <span class="control-desc">Timeline</span>
                            </div>
                            <div class="control-item">
                                <span class="control-key">RSHIFT</span>
                                <span class="control-desc">Boost</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="gameOver" class="hidden">
            <div class="game-over-title">GAME OVER</div>
            <div class="final-score">Final Score: <span id="finalScore">0</span></div>

            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value" id="statFood">0</div>
                    <div class="stat-label">Food Collected</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="statEchoes">0</div>
                    <div class="stat-label">Echoes Created</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="statParadoxes">0</div>
                    <div class="stat-label">Paradoxes Triggered</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="statMaxCombo">0</div>
                    <div class="stat-label">Max Combo</div>
                </div>
            </div>

            <button class="menu-button" id="playAgainButton">Play Again</button>
            <button class="menu-button" id="mainMenuButton">Main Menu</button>
        </div>

        <div id="pauseOverlay" class="hidden">
            <div class="pause-title">PAUSED</div>
            <button class="menu-button" id="resumeButton">Resume</button>
            <button class="menu-button" id="pauseMenuButton">Main Menu</button>
        </div>

        <div id="helpModal" class="hidden">
            <div class="help-content">
                <button class="help-close" id="helpCloseButton">&times;</button>
                <h2 class="help-title">HOW TO PLAY</h2>

                <div class="help-section">
                    <h3>BASIC CONTROLS</h3>
                    <div class="help-grid">
                        <div class="help-item">
                            <span class="help-key">WASD / Arrows</span>
                            <span class="help-desc">Move the snake</span>
                        </div>
                        <div class="help-item">
                            <span class="help-key">P / ESC</span>
                            <span class="help-desc">Pause the game</span>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h3>TEMPORAL ABILITIES</h3>
                    <div class="help-grid">
                        <div class="help-item">
                            <span class="help-key">SPACE</span>
                            <span class="help-desc"><strong>Save Timeline</strong> - Records your path and creates an "echo" of your snake that replays your movements. Colliding with echoes triggers Paradox Mode!</span>
                        </div>
                        <div class="help-item">
                            <span class="help-key">SHIFT</span>
                            <span class="help-desc"><strong>Chrono Boost</strong> - Temporarily speeds up your snake (requires at least one saved timeline)</span>
                        </div>
                        <div class="help-item">
                            <span class="help-key">E</span>
                            <span class="help-desc"><strong>Phase Mode</strong> - Pass through your own body and echoes for 2 seconds</span>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h3>SPECIAL ITEMS</h3>
                    <div class="help-grid-items">
                        <div class="help-item-box">
                            <span class="help-icon food-icon"></span>
                            <span class="help-label">Food</span>
                            <span class="help-text">Eat to grow and score points</span>
                        </div>
                        <div class="help-item-box">
                            <span class="help-icon chrono-icon"></span>
                            <span class="help-label">Chrono Fruit</span>
                            <span class="help-text">Worth 5x more points</span>
                        </div>
                        <div class="help-item-box">
                            <span class="help-icon portal-icon"></span>
                            <span class="help-label">Portals</span>
                            <span class="help-text">Teleport between linked portals (5 uses each)</span>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h3>POWER-UPS</h3>
                    <div class="help-grid-items">
                        <div class="help-item-box">
                            <span class="help-powerup" style="color: #00ff88;">‚è±</span>
                            <span class="help-label">Time Dilation</span>
                            <span class="help-text">Slows down game speed</span>
                        </div>
                        <div class="help-item-box">
                            <span class="help-powerup" style="color: #ff8800;">üß≤</span>
                            <span class="help-label">Echo Magnet</span>
                            <span class="help-text">Restarts all echo playbacks</span>
                        </div>
                        <div class="help-item-box">
                            <span class="help-powerup" style="color: #aa00ff;">üåÄ</span>
                            <span class="help-label">Quantum Tunnel</span>
                            <span class="help-text">Pass through walls once + brief invincibility</span>
                        </div>
                        <div class="help-item-box">
                            <span class="help-powerup" style="color: #ffff00;">‚è™</span>
                            <span class="help-label">Rewind</span>
                            <span class="help-text">Removes tail segments</span>
                        </div>
                        <div class="help-item-box">
                            <span class="help-powerup" style="color: #ff0066;">‚ö°</span>
                            <span class="help-label">Speed Boost</span>
                            <span class="help-text">Increases snake speed</span>
                        </div>
                        <div class="help-item-box">
                            <span class="help-powerup" style="color: #00ffff;">‚úñ</span>
                            <span class="help-label">Multiplier</span>
                            <span class="help-text">Doubles your score multiplier</span>
                        </div>
                        <div class="help-item-box">
                            <span class="help-powerup" style="color: #ffffff;">üõ°</span>
                            <span class="help-label">Invincibility</span>
                            <span class="help-text">Immune to all damage</span>
                        </div>
                        <div class="help-item-box">
                            <span class="help-powerup" style="color: #88ff00;">üçé</span>
                            <span class="help-label">Food Frenzy</span>
                            <span class="help-text">Spawns extra food items</span>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h3>GAME MODES</h3>
                    <div class="help-grid">
                        <div class="help-item">
                            <span class="help-mode">üéÆ Classic</span>
                            <span class="help-desc">Standard gameplay - eat, grow, survive. Power-ups and portals appear as you progress.</span>
                        </div>
                        <div class="help-item">
                            <span class="help-mode">‚è≥ Temporal</span>
                            <span class="help-desc">Enhanced mode with Chrono Fruits from the start. More focus on timeline mechanics.</span>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h3>PARADOX MODE</h3>
                    <p class="help-paradox">When you collide with an echo of yourself, <strong>Paradox Mode</strong> activates! The game speeds up, visuals go wild, and your score multiplier jumps to 5x. Survive the chaos to rack up massive points!</p>
                </div>
            </div>
        </div>

        <div id="editorModal" class="hidden">
            <div class="editor-content">
                <button class="help-close" id="editorCloseButton">&times;</button>
                <h2 class="help-title">LEVEL EDITOR</h2>

                <div class="editor-toolbar">
                    <div class="tool-group">
                        <span class="tool-label">Tool:</span>
                        <button class="tool-button active" data-tool="wall">Wall</button>
                        <button class="tool-button" data-tool="laser">Laser</button>
                        <button class="tool-button" data-tool="portal">Portal</button>
                        <button class="tool-button" data-tool="spawn">Spawn</button>
                        <button class="tool-button" data-tool="erase">Erase</button>
                    </div>
                </div>

                <div class="editor-grid-container">
                    <canvas id="editorCanvas"></canvas>
                </div>

                <div class="editor-actions">
                    <button class="editor-action-btn" id="clearLevel">Clear All</button>
                    <button class="editor-action-btn" id="saveLevel">Save Level</button>
                    <button class="editor-action-btn" id="loadLevel">Load Level</button>
                    <button class="editor-action-btn primary" id="playLevel">Play Level</button>
                </div>

                <div class="editor-saved-levels">
                    <div class="tool-label">Saved Levels:</div>
                    <div id="savedLevelsList" class="saved-levels-list">
                        <span class="no-levels">No saved levels yet</span>
                    </div>
                </div>

                <div class="editor-share">
                    <div class="tool-label">Share Code:</div>
                    <input type="text" id="levelCode" class="level-code-input" readonly placeholder="Save a level to get share code">
                    <button class="editor-action-btn" id="copyCode">Copy</button>
                    <button class="editor-action-btn" id="importCode">Import</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
